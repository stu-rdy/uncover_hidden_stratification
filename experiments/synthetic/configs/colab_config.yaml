# Google Colab Configuration
experiment:
  name: "synthetic_colab_run"
  seed: 42

wandb:
  project: "synthetic_imagenette"
  entity: null
  tags: ["colab", "resnet18", "bissoto-reproduction", "synthetic"]
  notes: "Reproduction of 'Subgroup Performance in Hidden Stratifications' (Bissoto et al.)"

metrics:
  log_subgroup_acc: true
  log_worst_group: true
  log_balanced_acc: true
  log_per_class_acc: true
  log_confusion_matrix: true
  log_training_metrics: true  # Log training-time distribution metrics (artifact-class correlation)

data:
  batch_size: 128
  num_workers: 2
  image_size: 224

model:
  arch: "resnet18" # ResNet-18 is sufficient for Imagenette and aligns with the paper's similar experiments
  pretrained: true

training:
  epochs: 20
  learning_rate: 0.01
  momentum: 0.9
  weight_decay: 0.0001
  device: "cuda"
  early_stopping:
    enabled: true
    patience: 5
    monitor: "worst_group_acc" # Bissoto et al. focus on subgroup performance

analysis:
  n_slices: 10
  weight: 10.0
